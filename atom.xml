<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Bamboo&#39;s Blog</title>
  <subtitle>A blog of learn, reading, thinking, AI...</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-06-11T12:33:05.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Bamboo Liu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>未来简史 - 读书笔记</title>
    <link href="http://yoursite.com/2017/06/11/future/"/>
    <id>http://yoursite.com/2017/06/11/future/</id>
    <published>2017-06-11T12:33:05.000Z</published>
    <updated>2017-06-11T12:33:05.000Z</updated>
    
    <content type="html"><![CDATA[
<img src="/images/future-2.png" title="future">

<a id="more"></a>


<!DOCTYPE html>
<html>
<head>
<title>未来简史</title>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="renderer" content="webkit">
<meta name="author" content="mubu.com">
</head>
<body style="margin: 50px 20px;color: #333;font-family: 'Helvetica Neue','Hiragino Sans GB','WenQuanYi Micro Hei','Microsoft Yahei',sans-serif;">
<div class="export-wrapper"><div style="font-size: 24px; padding: 20px 15px 0;"><div style="padding-bottom: 10px">未来简史</div><div style="background: #e5e6e8; height: 1px; margin-bottom: 20px;"></div></div><ul style="list-style: disc outside;"><li class="collapsed" style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类的新议题</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">战胜死亡</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">永生的出现将导致人和人之间根本性的不平等</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">永久幸福</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">生物化学重新打造智人，提供无止境的快感</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人成为神</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">路径</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">生物工程：人类在现有的有机身体结构下充分挖掘潜能</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">半机械人工程：结合各种非有机设备，保留有机大脑作为核心</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">非有机生物工程：智能软件替代神经网络，无机生命替代有机生命</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">如果心灵从碳基变成硅基，心灵结构改变，智人消失，人类历史告一段落</span></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">澄清</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">一、以上说的是“人类整体”，而非大多数的人</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">二、这是一项历史预测，而不是政治目标</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">三、追求不一定能得到</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">四、预测并不是为了预言，预测经过讨论能改变世界</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">马克思主义没有推翻统治，仅仅这个预测就能让他们做出改变</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">历史的意义：历史知识会改变我们未来的行为，研究历史是为了从旧的意义中解放</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">知识的悖论：知识（预测）如果不改变行为就无用，行为一旦改变，原本的只是（预测）立即失去意义</span></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">成神路上，没有刹车</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">专家各有所长，无人了解整个系统，没有人知道刹车在哪里</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">现代经济只能无止境增长，刹车就会崩溃，只能追求永续目标：不死、快乐、神性。（三者不可分）</span></li></ul></li></ul></li></ul></li><li class="collapsed" style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">智人征服世界</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类如何对待其他动物（世界）</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">事实</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类灭绝和征服其他大型动物，主宰了世界</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人和其他动物一样，都是一套以繁衍为目的的生物算法，情感和欲望都是帮我们快速找到路径</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">理念</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">狩猎采集者</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">狩猎采集者并不觉得比其他生物高级，人能否存在，有赖于理解和尊重周围动物的欲望</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">狩猎采集者倾向于泛灵论，人与万物沟通</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">农民</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">农民的生活质量有赖于他们能控制的动物</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">农民把动物从有感情、值得尊重的生命降格成人类的资产</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人以自身的需求规训动物，无视动物的情感需求</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">大多数农业社会把不同等级的人也视为资产</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">有神论承诺智人占主导地位，可以剥削其他一切生物。比如基督教</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">有神论，神负责在人类和生态系统之间做调解。诸神负责保护农业，换来人类的供献，牺牲了生态系统</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">现代人</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">有神论以神之名作为传统农业的理由，人文主义则是以人之名作为现代工业化农业的借口</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义奠基于智人拥有某些独特而神圣的人性，而动物并没有-自然也就不重要</span></li></ul></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类的特质</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人有灵魂</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">如果灵魂是进化出来的,则它是不可分割的、永恒的实体就和进化的本质相违背</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">如果灵魂是突然出现在人类身上出现的，无法想象他之前或他的父母没有一丝一毫灵魂</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人有心灵</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">如果一切都在我们的神经元网络中，何必把心灵独立出来？</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">如果心灵高于神经网络，那它究竟在哪里？</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人有意义之网</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">动物只能想象实际存在的东西</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">而人可以想象主体间的东西他们具有真实而强大的力量，如国家、公司、法律等</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人通过虚构故事组织大规模协作，这是人类的力量被放大、主宰世界的根本原因</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">想要破解人类的未来，必须破解出种种赋予世界意义的虚构想象</span></li></ul></li></ul></li></ul></li><li class="collapsed" style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类为世界赋予意义。</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">虚构的力量。</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">动物都活在客观实体和主观体验两重现实中，智人的世界有第三重现实，各种关于金钱、神、国家和公司的故事</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">7万年前，认知革命让人类开始谈论只存在于人类想象之中的事情。这能促成几百、几千人的合作。</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">5000年前，人类发明了文字和金钱</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">文字能让人以算法的方式组织社会，每个人完成一个小步骤，最后的重要决定由整个算法来判断，这正是官僚体系的本质。</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">国家发行一张纸，全部公民用这张纸纳税，公民别无选择，但市场得以发展</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">故事本应该只是工具，不应该是目标</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">我们应该区分真实和虚伪，真实的地位当然高于虚伪，欧元可以贬值但他没有痛苦</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">未来还会有更强大的虚构概念、更极权的组织，区分真实和虚构就尤为重要</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">虚构的故事让人类更容易合作，但代价是故事也会决定我们合作的目标</span></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">科学与宗教之争</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教不等于迷信，自己相信的一定是“真理”；只有别人相信的，才会是“迷信”</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教不是超自然，对于相信恶魔、神灵、精灵的人来说，这就是自然</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教也不是是否信“神”的问题。</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教不等同于灵性</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教是要巩固世俗秩序，灵性是要逃离</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">灵性之旅只适合个人，不适合社会。人类要协作，不能只有问题没有规范</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教是一套无所不包的故事，能够为人类的法律、规范和价值观赋予高于人类的合法性</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教的定义应该在于社会功能，而非是否有神</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">基督教、共产主义、自由主义都可以视为一种宗教</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">共产主义的历史规律，其实就像基督上帝的诫命</span></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">科学与宗教</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">科学想要打造可行的人类制度，必然需要宗教的协助。科学研究事实，但并不给出伦理判断</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教界并非只管伦理判断，它总是包含事实说明</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">典型的宗教故事的三个部分</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">1. 伦理判断，例如“人命神圣”</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">2. 事实声明，例如“人类是从受孕那一刻开始的”</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">3. 伦理判断和事实声明的结合，得到具体指示，像是“就算受孕才刚一天，你也不能堕胎”</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">对于宗教的伦理判断，科学无法反驳，但事实声明的部分，科学可以反驳</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">科学和宗教比想象的更容易妥协、合作</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">宗教最在乎的是秩序</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">科学最在乎的是力量</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">现代历史其实是科学与特定宗教（人文主义）达成协议的过程，现代社会相信人文主义，而科学不是为了质疑，而是为了实现他的教条。</span></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">与“现代”的契约</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">前现代人相信自己活在某种伟大的宇宙计划里，这限制的人类的力量，但也让一切有了意义</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">“现代”就是一份契约，本质就是：人放弃意义、换取力量</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">离开了意义，现代社会之所以还在发展，是因为兴起了一种革命性的新宗教：人文主义</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义革命。</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">与现代的契约是得到力量，放弃意义。但有一个漏洞条款，如果人类从整体宇宙之外找到意义，就可意义和力量兼得。人找到人文主义</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义的教条</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义政治：选民能做出最好的选择</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义经济：顾客永远是对的</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义美学：看的人觉得美，就是美</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义伦理：感觉对了，就做吧</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义教育：为自己想</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人文主义分裂</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">古典正统教派：自由主义</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">每个人都是独特的人，拥有永不重复的体验</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">分支一：社会人文主义。社会主义责怪自由主义太过注重自己的感受而忽略他人的体验</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">分支二：进化人文主义。各种体验和感受的冲突不可避免，最适者胜出</span></li></ul></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">智人失去控制权</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">实验室里的定时炸弹</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">自由意志</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">自由主义的基础是人有自由意志，这是事实声明</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">事实声明科学就可以介入</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">每个电化学反应都是前一项事件决定的。那最后达成的决定肯定也不是自由意志</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">如果是原子随机移动造成的决定，当然这就是随机，也不是自由意志</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">根据进化论，动物的所有所谓“选择”，都是基因密码的反应。</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">个人主义</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">自由主义认为每个人都有单一、不可分割的自我</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">裂脑人实验：自我是物理可分的</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">冰水实验：人有两种自我：体验自我和叙事自我</span></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">大分离</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">对于坚持人不可替代的想法，科学的回应</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">1. 生物是算法，每种动物（包括智人）都是进化而成的算法集合</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">2. 算法的作用不是组成物质的影响。算盘的算珠是铁制或木制对运算没有差别</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">3. 只要运算确实，硅基或碳基没有差别</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">超人来掌控世界，人类失去平等</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">算法掌控世界，人类失去神圣性</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类整体仍然有价值，但个人将不再具有权威，大部分选择由外部算法来管理</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类完全不具备价值</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">算法成为像国家、公司那样的实体，掌控人类</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">无用的人做什么呢，只能靠药物和打游戏过活</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类很有可能会被圈养或者消灭。因为系统比人聪明，你便无法掌控他的动机</span></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">无论是算法还是超人类的掌握世界，自由主义都将崩溃</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">新的宗教之科技人文主义</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">仍然认为人类是造物的巅峰之作，智人升级成智神，对抗最复杂的无意识算法</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">就像人类只能看到光谱中的一小段一样，心理的频谱比我们体验的要宽得多，成为智神可以去探索心智的新大陆</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">科技人文主义面临无解的两难，它认为人的意志是宇宙中最重要的东西，因此推动人类开发控制，但一旦能控制意志，人类便失去神圣性，无法在科技面前立足</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">新的宗教之数据主义</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">数据主义认为，宇宙是由数据组成的，任何现象或者实体的价值就在于对数据处理的贡献</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">经济系统</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">经济的机制就是收集关于欲望和能力的的数据，再转化为决策</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">资本主义赢得冷战，并不是因为它更合伦理或是上帝对苏联降下怒火，而是因为这个阶段分散式的数据处理方式比集中式更优</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">政治系统</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">民主和专制本质上也就是两套关于收集和分析信息的对立机制</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">如果无法有效处理数据，选举、政党、国会这些过去崇高的制度就可能被淘汰</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">专制政权也无力应对数据流的速度和数量</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">全人类是一个数据系统，个人是芯片</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">它提高效率，有四种方式</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">1. 增加处理器数量。10万人口的城市，能力高于1000人口的村庄</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">2. 增加处理器种类。农民、祭司和医师对话所产生的想法，是狩猎采集者之怎么都谈不到的</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">3. 增加处理器之间的连接。10个有贸易的城市，产出高于10个孤立的城市</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">4. 增加现有连接的流通自由度。就像要免去诸如高速收费一样</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">人类经过了四个发展阶段</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">1. 认知革命，大量智人能连接为单一数据处理网络</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">2. 农业革命，人口规模大规模增加，人类合作网络增加。处理器数量、类型和连接都有增加</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">3. 从发明文字和金钱到科学革命肇始，各类连接变得非常密切</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">4. 最后一个阶段，从地理大发现到现在，信息在全球网络中自由流动，且数量和速度越来越快。现在民主和市场之所以胜出，并不是因为它们“好”，而是因为他们改善了全球数据处理系统</span></li></ul></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">对于数据主义，信息自由是最高的善</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">数据主义的第一条诫命：要连接越来越多的媒介，产生越来越多的信息</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">数据主义的第二条诫命：把一切连接到系统，连不想加入的异端也不例外</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">数据主义将人类体验视同数据模式，也就破坏了人的权威和意义来源</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">数据主义认为，体验不分享就没有价值，人并不需要（甚至不可能）从自己心里找到意义。我们要做的就是等待算法找出意义</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">只要有更好的算法和数据，人类这种生物算法就会自然被淘汰</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">万物互联网自己就有了神圣的意义</span></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">数据主义对人类的威胁，就如同人类对其他动物的威胁。数据不在乎我们的主观需求</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">最重要的3个事项和对应的问题</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">1. 科学正聚合于一个无所不包的教条，也就是认为所有生物都是算法，而生命则是进行数据处理</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">问题1：生物真的只是算法，而生命真的只是数据处理吗？</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">2. 智能正与意识脱钩</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">问题2：智能和意识究竟哪一项更有价值？</span></li></ul></li><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">3. 无意识但具备高智商的算法，可能很快比我们更加了解自己</span><ul class="children" style="list-style: disc outside; padding-bottom: 4px;"><li style="line-height: 22px;"><span class="content mubu-node" style="line-height: 22px; min-height: 22px; font-size: 14px; display: inline-block; vertical-align: top;">问题3：等到无意识但具备高智能的算法比我们更了解我们，社会、政治和日常生活将会有什么变化？</span></li></ul></li></ul></li></ul></li></ul></li></ul></div>
</body>
</html>



]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/images/future-2.png&quot; title=&quot;future&quot;&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>人类简史 - 读书笔记</title>
    <link href="http://yoursite.com/2017/05/17/humankind-history/"/>
    <id>http://yoursite.com/2017/05/17/humankind-history/</id>
    <published>2017-05-17T01:40:21.000Z</published>
    <updated>2017-05-17T01:40:21.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/human.jpg" alt="图片1" title="human"></p>
<a id="more"></a>
<h2 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h2><ul>
<li><p>宇宙大爆炸，产生物质，能量，时间，空间，形成物理学</p>
</li>
<li><p>原子结合成分子，行为化学</p>
</li>
<li><p>分子结合，有机物产生，形成生物学</p>
</li>
<li><p>类人生物出现</p>
</li>
<li><p>不同人种：鲁道夫人，直立人，尼安特人，智人。 最终只有智人存活下来</p>
</li>
<li><p>智人创造复杂的结构，形成“文化”，文化发展，形成历史学</p>
</li>
<li><p>历史的路途上有三种革命：7万年前的认知革命，1万年前的农业革命，约500年前的科学革命</p>
</li>
</ul>
<h2 id="智人"><a href="#智人" class="headerlink" title="智人"></a>智人</h2><h3 id="时间-1"><a href="#时间-1" class="headerlink" title="时间"></a>时间</h3><ul>
<li>100万年前</li>
</ul>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul>
<li><p>大脑庞大</p>
<p>占体积，消耗大</p>
<p>肌肉萎缩</p>
<p>花更多时间寻找食物</p>
</li>
<li><p>直立行走</p>
<p>进化更短时间周期，促使人类都是早产儿</p>
<p>突出社交技巧</p>
<p>可塑性强</p>
</li>
<li><p>使用工具</p>
<p>a.食物链中间</p>
<ul>
<li><p>靠采集为生</p>
</li>
<li><p>早期石器：大型动物用餐后的猎物尸体，敲开骨头，吃骨髓</p>
<p>b.食物链顶端</p>
<ul>
<li><p>合作追捕大型动物</p>
</li>
<li><p>登上食物链顶端，整个生态系统猝不及防。大型动物灭绝</p>
</li>
</ul>
<p>c.顶端进化</p>
<ul>
<li>发明船，灯，弓箭，宗教，商业和社会分层</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="认知革命"><a href="#认知革命" class="headerlink" title="认知革命"></a>认知革命</h2><h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><ul>
<li>固然的基因突变</li>
</ul>
<h3 id="特点：独特功能"><a href="#特点：独特功能" class="headerlink" title="特点：独特功能"></a>特点：独特功能</h3><ul>
<li><p>河边有狮子</p>
<p> 能传达更多更大量关于智人身边环境的信息，规划并执行复杂计划：躲开狮子，猎捕野牛</p>
</li>
<li><p>八卦</p>
<p> 能传达更多更大量关于智人社会关系的信息，组织团体可达150人</p>
</li>
<li><p>虚构故事</p>
<p> 能传达关于虚构概念的信息：守护神，国家，有限公司，人权</p>
</li>
</ul>
<h3 id="主要成就"><a href="#主要成就" class="headerlink" title="主要成就"></a>主要成就</h3><ul>
<li>形成不同的语言和文化</li>
</ul>
<h2 id="农业革命"><a href="#农业革命" class="headerlink" title="农业革命"></a>农业革命</h2><h3 id="采集社会"><a href="#采集社会" class="headerlink" title="采集社会"></a>采集社会</h3><ul>
<li><p>贪吃基因形成</p>
<p>远古采集者，遇到高热量甜食，最有选择是尽可能多吃</p>
<p>今天物质盈余，仍无法戒掉此问题，导致肥胖</p>
</li>
</ul>
<h3 id="一夫一妻制"><a href="#一夫一妻制" class="headerlink" title="一夫一妻制"></a>一夫一妻制</h3><ul>
<li><p>演化心理学家认为：远古没有一夫一妻制，无父亲概念，一群人共同抚养部落小孩</p>
</li>
<li><p>“远古公社“支持者认为一夫一妻制是工业社会后的人际疏离、离婚率高的原因</p>
</li>
</ul>
<h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><ul>
<li><p>工作时间短</p>
<p> 2-3天打猎一次，一次3-6个小时</p>
</li>
<li><p>寿命长</p>
<p>多数活到60-80岁</p>
</li>
<li><p>杂食习性</p>
<p>无营养不良</p>
</li>
</ul>
<h3 id="战争自采集社会便出现的社会现象。人类关系密切同时仍会杀害老弱"><a href="#战争自采集社会便出现的社会现象。人类关系密切同时仍会杀害老弱" class="headerlink" title="战争自采集社会便出现的社会现象。人类关系密切同时仍会杀害老弱"></a>战争自采集社会便出现的社会现象。人类关系密切同时仍会杀害老弱</h3><h2 id="农业社会"><a href="#农业社会" class="headerlink" title="农业社会"></a>农业社会</h2><h3 id="动物驯化"><a href="#动物驯化" class="headerlink" title="动物驯化"></a>动物驯化</h3><p>  山羊，马，骆驼</p>
<h3 id="植物驯化"><a href="#植物驯化" class="headerlink" title="植物驯化"></a>植物驯化</h3><p>  小麦，葡萄，橄榄树，玉米，马铃薯</p>
<h3 id="影响"><a href="#影响" class="headerlink" title="影响"></a>影响</h3><p>  事务增加，人类生存危机减弱，人类激增，养尊处优的精英分子产生</p>
<h3 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h3><p>  家和领地概念产生</p>
<p>  未来的重要性凸显</p>
<p>  学会看天吃饭，预测未来影响智人生存</p>
<h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><ul>
<li><p>原因</p>
<p>大脑容量有限</p>
<p>人难免一死</p>
<p>人类大脑逐渐只习惯存储和处理特定类型信息，多数字的精确存储能力减弱</p>
</li>
<li><p>定义</p>
<p>文字是用实体符号来存储信息的方式</p>
</li>
<li><p>种类</p>
<p>苏美尔文字</p>
<p>安第斯山脉</p>
<p>古埃及象形文字</p>
<p>中国及中美洲：中国公元前1200年，中美洲公元前1000-500年之间：产生完整表意文字</p>
</li>
</ul>
<h3 id="后农业时代"><a href="#后农业时代" class="headerlink" title="后农业时代"></a>后农业时代</h3><p>  人类靠着文字和共同虚构故事迅猛发展，由此产生了不同的社会群体分类：自由人/奴隶，穷人/富人，白人/黑人</p>
<h2 id="人类的融合统一"><a href="#人类的融合统一" class="headerlink" title="人类的融合统一"></a>人类的融合统一</h2><h3 id="历史的方向"><a href="#历史的方向" class="headerlink" title="历史的方向"></a>历史的方向</h3><ul>
<li><p>合久必分只是一时，分久必合是大势</p>
<p>公元前10000年前，地球上数千个文明，采集者只认识自己的岛</p>
<p>公元前2000年前，人类文明只剩几百个，最多两三千个</p>
<p>当今世界：</p>
<ul>
<li>相同的政治体系，经济制度，法律制度，科学体系</li>
</ul>
</li>
<li><p>货币</p>
<p>智人和陌生人合作的基础</p>
<p>采集者无金钱概念</p>
<ul>
<li>自给自足，无法获取稀有物品时，才会与人交换</li>
</ul>
</li>
</ul>
<h3 id="城市和王国兴起后"><a href="#城市和王国兴起后" class="headerlink" title="城市和王国兴起后"></a>城市和王国兴起后</h3><ul>
<li><p>交通改善，开始了专业化契机</p>
</li>
<li><p>人口稠密城市开始能够养活专业工作者</p>
<ul>
<li>鞋匠，医生，木匠，律师</li>
</ul>
</li>
<li><p>不同专家制作的货品交易方式</p>
<ul>
<li><p>金钱运作基于信任</p>
</li>
<li><p>人类世界是存在于共同想象中虚构出来的</p>
</li>
<li><p>金钱制度原则</p>
<ul>
<li><p>万物可换</p>
</li>
<li><p>万众相信</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="帝国"><a href="#帝国" class="headerlink" title="帝国"></a>帝国</h3><ul>
<li><p>条件</p>
<p>帝国必须统治着不同民族，有不同文化和独立领土</p>
</li>
<li><p>特征</p>
<p>疆域可灵活调整，几乎可以无限扩张</p>
</li>
<li><p>批判</p>
<p>帝国制度自身缺陷，难以长期统治不同民族</p>
<p>就算可统治，做法必然不道德。充满邪恶和剥削</p>
</li>
</ul>
<h3 id="宗教"><a href="#宗教" class="headerlink" title="宗教"></a>宗教</h3><ul>
<li><p>法则</p>
<p>信奉超人类秩序普世皆同，不论时空，永恒为真</p>
<p>必须坚定的将这种信念传播给大众</p>
</li>
<li><p>发展历程</p>
<p>采集者：泛神论</p>
<ul>
<li>人和动物是平等的，尊重每一个动物</li>
</ul>
<p>农业革命后，宗教革命也随之产生</p>
<p>农业革命最初宗教意义：动植物与人类不再平等，而变成人类的所有物</p>
<p>神的产生</p>
<ul>
<li>神可以善待人类，和动植物沟通协商</li>
</ul>
</li>
</ul>
<h2 id="科学革命"><a href="#科学革命" class="headerlink" title="科学革命"></a>科学革命</h2><h3 id="发现自己的无知"><a href="#发现自己的无知" class="headerlink" title="发现自己的无知"></a>发现自己的无知</h3><ul>
<li><p>现代科学体系与先前知识体系区别</p>
<ul>
<li><p>此前知识体系都基于无所不知</p>
</li>
<li><p>现代科学承认自己无知</p>
</li>
<li><p>以观察和数学为中心</p>
</li>
<li><p>运用已有能力发展出新的科技</p>
</li>
</ul>
</li>
<li><p>知识的价值判断标准在于实用性，以能否让人类创造新物质、得到力量或权利为考量</p>
</li>
<li><p>民族主义是唯一一个让死亡仍然占据可信的现代意识形态</p>
</li>
</ul>
<h3 id="科学与帝国联姻"><a href="#科学与帝国联姻" class="headerlink" title="科学与帝国联姻"></a>科学与帝国联姻</h3><ul>
<li><p>共同心态和出发点:承认自己无知</p>
</li>
<li><p>欧洲帝国远征改变了世界进程：民族文化由独立发展向逐渐融合为单一的人类社会转变</p>
</li>
<li><p>科学与帝国关系</p>
<ul>
<li><p>科学家为帝国提供实用知识，思想基础和科技工具</p>
</li>
<li><p>帝国为科学家提供物质资助、信息和保护，并确保研究成果的广泛传播</p>
</li>
</ul>
</li>
</ul>
<h3 id="资本主义教条"><a href="#资本主义教条" class="headerlink" title="资本主义教条"></a>资本主义教条</h3><ul>
<li><p>信用作用：资本主义利用人类信用，实现小资本运作成大资本的规则</p>
</li>
<li><p>兴起条件</p>
<p>信任是金钱交易的后盾</p>
</li>
<li><p>作用</p>
<p>推动现代科学兴起，影响了欧洲帝国主义的出现</p>
</li>
<li><p>政府与资本市场关系</p>
<p>减少干预，是市场自由发挥</p>
</li>
</ul>
<h3 id="工业的巨轮"><a href="#工业的巨轮" class="headerlink" title="工业的巨轮"></a>工业的巨轮</h3><ul>
<li><p>能源和原料是否有限？</p>
<ul>
<li><p>阶段有限：能源快要耗尽时，总能找到替代方案</p>
</li>
<li><p>阶段改变，能源随之改变</p>
</li>
<li><p>乐观看，能源是取之不尽的</p>
</li>
<li><p>人类能用的能量总量其实在不断增加</p>
</li>
</ul>
</li>
</ul>
<h3 id="一场永远的革命"><a href="#一场永远的革命" class="headerlink" title="一场永远的革命"></a>一场永远的革命</h3><ul>
<li><p>工业革命后，动物们面临生存危机，智人成为全球霸主</p>
</li>
<li><p>智人隔绝了大自然，创造一套标准来生活</p>
</li>
<li><p>国家和市场正在取代过去家庭和社群的方式</p>
</li>
<li><p>核力量成为新世界的唯一制衡标准和手段</p>
</li>
</ul>
<h3 id="幸福快乐的日子"><a href="#幸福快乐的日子" class="headerlink" title="幸福快乐的日子"></a>幸福快乐的日子</h3><ul>
<li><p>金钱并非万能，金钱带来的快乐有限</p>
</li>
<li><p>快乐标准</p>
<p>财富，健康，所处社群等客观条件与主观预期的吻合程度</p>
</li>
<li><p>生物学解释</p>
<p>产生足够多血清素，多巴胺，催产素</p>
</li>
</ul>
<h3 id="预计未来：智人末日"><a href="#预计未来：智人末日" class="headerlink" title="预计未来：智人末日"></a>预计未来：智人末日</h3><ul>
<li><p>智人的未来变成非智人的存在</p>
<p>智人通过接入机械和其他生物创造来维持生命</p>
</li>
<li><p>危机意识</p>
<p>智能机器人产生独立意识，奋起反抗人类主人</p>
</li>
<li><p>两种可能</p>
<p>智人进化或被彻底抹杀，历史的发展仍未可知</p>
</li>
</ul>
<p><img src="/images/human.jpg" alt="图片1" title="human"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/human.jpg&quot; alt=&quot;图片1&quot; title=&quot;human&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JVM 简介</title>
    <link href="http://yoursite.com/2017/05/04/jvm/"/>
    <id>http://yoursite.com/2017/05/04/jvm/</id>
    <published>2017-05-04T13:28:01.000Z</published>
    <updated>2017-05-04T13:28:01.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>为了达到给所有硬件提供一致的虚拟机平台的目的，jvm牺牲了一些与硬件相关的性能特性。</p>
<h1 id="第一章-走进java"><a href="#第一章-走进java" class="headerlink" title="第一章 走进java"></a>第一章 走进java</h1><blockquote>
<p>2006年，Sun公式宣布最终会将java开源，并建立了OpenJDK组织源码进行独立管理。<br>除了极少数产权代码（Sun本身也无权进行开源处理）外，OpenJDK几乎包括了Sun JDK的全部代码。<br>所以OpenJDK 7 与 Sun JDK 1.7本质史昂就是同一套代码库开发的产品</p>
</blockquote>
<h3 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h3><ol>
<li><p>1996年，sun发布jdk1.0，该jdk中所带的虚拟机就是Classic VM. 这款虚拟机采用纯解释权方式来执行java代码，若用jit编译器，就必须外挂。使用外挂jit编译器后，解释器便不再工作。<br>若用解释器，解释器的性能本来就比较慢。<br>若用编译器，编译器需要对每一行代码都进行编译，由于程序相应时间的压力，不敢应用编译耗时较高的优化技术。<br>由此，“java语言很慢”的形象产生</p>
</li>
<li><p>jdk 1.2时，在Solaris平台发布了Exact VM.<br>使用了准确式内存管理（虚拟机可以知道内存中某个位置的数据具体是什么类型）。<br>之前Class VM基于handler（句柄）的对象查找方式，每次定位对象多了一次查找开销</p>
</li>
<li><p>HotSpot VM：准确式内存管理，热点代码探测技术<br>Sun JDK，Open JDK都是使用HotSpot VM</p>
</li>
<li><p>Dalvik VM，即android上使用的jvm。<br>严格来说，Dalvik VM不是一个java虚拟机；<br>它没有遵循java虚拟机规范，不能直接执行java的class文件;<br>使用的是寄存器架构而不是jvm中常用的栈架构</p>
</li>
<li><p>Microsoft JVM<br>微软曾是java技术铁杆支持者，与sun争夺java控制权，令java从跨平台技术变为绑定在windows上的技术是ms的主要目的。<br>sun起诉微软，微软最终败诉，赔偿sun公司2000万，承诺终止其jvm发展。<br>有趣的是，xp sp3完全抹去了jvm，sun又登报希望微软不要这么做</p>
</li>
</ol>
<h3 id="未来"><a href="#未来" class="headerlink" title="未来"></a>未来</h3><ul>
<li>模块化</li>
<li>混合语言（java平台上多语言很合编程正成为主流）</li>
<li>多核并行（函数式）</li>
<li>进一步丰富语法</li>
<li>64位虚拟机</li>
</ul>
<a id="more"></a>
<p>由于指针膨胀和各种数据类型对齐补白的原因，运行在64位系统上的java应用，通常比32位系统额外增加10% - 30%的内存消耗；<br>多个机构测试显示，64为虚拟机运行速度在各个测试项中几乎全面落后32位虚拟机，两者大约15%左右的性能差距。<br>32位有个严重的限制：内存不超过4GB；<br>因此，很多企业使用虚拟机集群等方式继续在32位系统中运行。</p>
<p>计算机最终会完全过渡到64位，jvm也会从32位发展至64位</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>函数式编程的一个重要优点：程序天然地适合并行运行</p>
<h1 id="第二章-java内存区域与内存溢出异常"><a href="#第二章-java内存区域与内存溢出异常" class="headerlink" title="第二章 java内存区域与内存溢出异常"></a>第二章 java内存区域与内存溢出异常</h1><h2 id="运行时数据区"><a href="#运行时数据区" class="headerlink" title="运行时数据区"></a>运行时数据区</h2><ul>
<li>方法区</li>
<li>堆</li>
<li>虚拟机栈</li>
<li>本地方法栈</li>
<li>程序计数器PC</li>
</ul>
<p>方法区，堆 ：线程共享<br>栈，pc ： 线程私有<br>本地方法栈中方式使用的语言，使用方式，数据结构并未强制规定，jvm可以自由实现它。（Sun HotSpot 直接把本地方法栈和虚拟机栈合二为一）</p>
<h3 id="程序计数器"><a href="#程序计数器" class="headerlink" title="程序计数器"></a>程序计数器</h3><p>每个线程都有一个独立了的PC，<br>若正在执行java方法，则PC记录的是正在执行的虚拟机字节码指令地址；<br>若正在执行native方法，则PC值为空。<br>此内存区域是唯一一个在jvm中不可能发生OutOfMemoryError的区域</p>
<h3 id="java虚拟机栈"><a href="#java虚拟机栈" class="headerlink" title="java虚拟机栈"></a>java虚拟机栈</h3><p>栈中包括了局部变量表<br>局部变量表存放了编译器可知的各种基本数据类型，对象引用，returnAddress类型</p>
<h3 id="本地方法栈"><a href="#本地方法栈" class="headerlink" title="本地方法栈"></a>本地方法栈</h3><p>native 方法</p>
<h3 id="java堆"><a href="#java堆" class="headerlink" title="java堆"></a>java堆</h3><p>jvm所管理内存中最大的一块.</p>
<p>堆的唯一目的: 存放对象实例，几乎所有的对象实例都在这里分配内存（jvm规范说，所有的对象实例以及数组都要在堆上分配，但随着jit的发展，栈上分配，标量替换等优化技术，打破了这个限制）</p>
<p>从内存分配角度看，线程共享的java堆中可能划分出多个线程私有的分配缓冲区（Thread Local Allocation Buffer, TLAB）</p>
<p>从内存回收角度，java堆还可以细分</p>
<ul>
<li>新生代（eden， from， to）</li>
<li>老年代</li>
</ul>
<p>不论如何划分，都与存放内容无关\<br>无论哪个区域，存储的都仍然是对象实例</p>
<p>java堆可以位于物理上不连续的内存空间，只要逻辑上连续即可</p>
<h3 id="方法区"><a href="#方法区" class="headerlink" title="方法区"></a>方法区</h3><p>存储虚拟机加载的类信息，常量，静态变量，jit编译后的代码等数据</p>
<p>习惯上，称作“永久代”，但并不等价。<br>HotSpot把gc分代扩展至方法区，或者说使用永久代来实现方法区。<br>对其它JVM，并不存在永久代的概念</p>
<p>如何实现方法区，不收虚拟机规范约束，用永久代来实现，不是个好主意，永久代很容易内存溢出</p>
<p>方法区主要是针对常量池的回收和对类型的卸载。该区域回收性能较差，尤其是对类型的卸载，条件相当苛刻</p>
<h3 id="运行时常量池"><a href="#运行时常量池" class="headerlink" title="运行时常量池"></a>运行时常量池</h3><p>方法区的一部分。</p>
<p>class文件中，包含了常量池信息，用于存放编译器生成的各种字面量和符号引用，这部分内容在类加载后进入方法区的运行时常量池中存放。</p>
<p>常量池中的内容：编译器产生，也可能运行期产生</p>
<h3 id="直接内存"><a href="#直接内存" class="headerlink" title="直接内存"></a>直接内存</h3><p>并不是虚拟机的一部分，收到本机总内存（RAM+swap）空间的限制。</p>
<h3 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h3><p>StackOverflowError</p>
<ul>
<li>线程请求的栈深度大于虚拟机所允许的深度</li>
</ul>
<p>OutOfMemoryError</p>
<ul>
<li>虚拟机栈扩展时，无法申请到足够的内存</li>
<li>对中没有内存完成实例分配，并且堆也无法再扩展</li>
<li>方法区无法满足内存分配需求</li>
</ul>
<h2 id="hotspot虚拟机对象"><a href="#hotspot虚拟机对象" class="headerlink" title="hotspot虚拟机对象"></a>hotspot虚拟机对象</h2><h3 id="对象创建"><a href="#对象创建" class="headerlink" title="对象创建"></a>对象创建</h3><p>虚拟机遇到new指令时，检查该指令的参数能否在常量池中定位到一个类的符号引用，并检查这个符号引用的类是否已被加载，解析和初始化过。若没有，则先执行相应的类加载过程。</p>
<p>类加载检查通过后，将为新生对象分配内存。</p>
<p>对象所需内存大小在类加载完成后便可完全确定。</p>
<p>若java堆中内存是规整的，使用“指针碰撞”方式为对象分配内存空间；若不是，使用“空闲列表的”内存分配方式。<br>堆是否规整，由其采用的垃圾回收算法决定。</p>
<h5 id="多线程问题"><a href="#多线程问题" class="headerlink" title="多线程问题"></a>多线程问题</h5><p>给A分配内存，指针未来得及修改，对象B又同时使用了原来的指针来分配内存。解决这个问题有两种方案：</p>
<ul>
<li>分配内存空间的动作进行同步处理。（虚拟机使用CAS配上失败重试的方式保证更新操作的原子性）</li>
<li>把内存分配的动作按照线程划分在不同的空间之中进行。即内个线程在java堆中预先分配一小块内存（本地线程分配缓冲TLAB）。</li>
<li>通过-XX+/-UseTLAB来设定是否使用TLAB</li>
</ul>
<p>内存分配完成后，虚拟机需要将分配到的内存空间都初始化为零值（不包括对象头）。<br>这一步操作保证了java代码中可以不赋初始值就可直接使用。</p>
<p>接下来，虚拟机要对对象进行必要的设置，（对象是哪个类的实例，如何找到类的元数据信息，对象哈希码，对象的GC分代年龄等信息），这些信息存储在对象头之中。</p>
<p>从虚拟机角度来讲，此时对象就产生了。从java程序视角看，对象创建才刚刚开始<init>方法还没有执行。<br>执行new指令后，会执行init方法，按照程序员的意愿初始化对象。此时，创建对象完成。</init></p>
<h3 id="对象内存布局"><a href="#对象内存布局" class="headerlink" title="对象内存布局"></a>对象内存布局</h3><ul>
<li>对象头</li>
<li>实例数据</li>
<li>对齐填充</li>
</ul>
<p>对象头：</p>
<ul>
<li>对象运行时数据：哈希码，gc分代年龄，锁状态标志，线程持有的锁，偏向线程id，，偏向时间戳等。<br>32bit或64bit，官方称作“Mark Word”</li>
<li>类型指针，指向类元数据的指针。虚拟机通过此指针确定对象是哪个类的实例。</li>
</ul>
<p>实例数据：</p>
<ul>
<li>对象真正存储的有效信息</li>
<li>从父类继承的，子类定义的。都会记录下来。</li>
<li>存储顺序受到虚拟机分配策略参数和字段在java源码中定义顺序的影响</li>
<li>hotspot默认分配策略：longs/doubles、ints、shorts、chars、bytes、booleans、oops（ordinary object pointers），相同宽带的字段总是分配到一起。在满足此前提的情况下，父类中的变量会出现在子类之前。</li>
<li>若CompactFields参数设为true，默认为true，则子类中较窄的变量也可能会插入到父类变量的空隙之中。</li>
</ul>
<p>对齐填充</p>
<ul>
<li>仅起到占位符的作用。hotspot要求对象qi’shi起始地址必须是8字节的整数倍。即对象大小必须是8的整数倍。</li>
</ul>
<h3 id="对象的访问定位"><a href="#对象的访问定位" class="headerlink" title="对象的访问定位"></a>对象的访问定位</h3><ul>
<li>句柄</li>
<li>直接指针（hotspot使用的方式）</li>
</ul>
<p>句柄：</p>
<ul>
<li>java堆中需要划分一块内存来作为句柄池。</li>
<li>对象指针reference中存储的是对象句柄地址</li>
<li>句柄中包含对象实例数据与类型数据两个地址</li>
<li>对象移动时，只改变句柄中的实例数据指针，reference本身不需要修改</li>
</ul>
<p>直接指针：</p>
<ul>
<li>reference存储的是对象的真实地址</li>
<li>java堆对象中需要考虑放置类型数据的相关信息</li>
<li>速度更快，节省了一次指针定位开销。由于对象访问非常频繁，这类开销也不小</li>
</ul>
<h2 id="其他-2"><a href="#其他-2" class="headerlink" title="其他"></a>其他</h2><p>EMA：eclipse memory analyzer：分析dump出的堆转储快照</p>
<p>String.intern()<br>jdk1.6及以前，该方法会将首次遇到的字符串复制到永久代中，返回的也是永久代中这个字符串实例的引用。<br>jdk1.7以后，不会再复制实例，只是在常量池中记录首次出现的实例引用</p>
<h1 id="第三章-垃圾收集器与内存分配策略"><a href="#第三章-垃圾收集器与内存分配策略" class="headerlink" title="第三章 垃圾收集器与内存分配策略"></a>第三章 垃圾收集器与内存分配策略</h1><p>程序计数器，虚拟机栈，本地方法栈：随线程生，随线程灭。<br>这些区域不需要过多考虑回收问题。</p>
<p>垃圾收集器主要关注的是堆和方法区。</p>
<h3 id="对象存活检测算法"><a href="#对象存活检测算法" class="headerlink" title="对象存活检测算法"></a>对象存活检测算法</h3><ul>
<li>引用计数 ：无法解决循环引用问题</li>
<li>可达性分析算法：以gc roots的对象作为起始点，向下搜索。</li>
</ul>
<p>GC roots：</p>
<ul>
<li>虚拟机栈</li>
<li>方法区中静态属性引用的对象</li>
<li>方法区中常量引用的对象</li>
<li>本地方法栈中JNI引用的对象</li>
</ul>
<p>引用分类：</p>
<ul>
<li>强引用，默认。引用存在时，不会回收</li>
<li>软引用。描述还有用但是非必需的对象。内存溢出之前，进行回收</li>
<li>弱引用。使用WeakReference类来实现。生命周期在xia下一次垃圾收集之前。</li>
<li>虚引用。使用PhantonReference类来实现。</li>
</ul>
<p>不可达的对象，也并非“非死不可”。在finalize（）方法中，可以把this参数赋值给某个变量，就保存下了引用。</p>
<h3 id="回收方法区"><a href="#回收方法区" class="headerlink" title="回收方法区"></a>回收方法区</h3><p>主要回收废弃常量和无用的类。</p>
<p>回收类，条件相当苛刻：</p>
<ul>
<li>不存在类的实例</li>
<li>类的classloader已回收</li>
<li>class对象没有被引用，没有通过反射访问该类的方法</li>
</ul>
<p>即使满足以上条件，进说明类对象“可以回收”，但也不一定会回收</p>
<h3 id="GC算法"><a href="#GC算法" class="headerlink" title="GC算法"></a>GC算法</h3><ul>
<li>标记-清除算法：标记和清除的效率都不高；产生内存碎片</li>
<li>复制算法：实现简单，运行高效。需要额外内存空间进行担保，内存利用率低，浪费50%空间</li>
<li>标记-整理算法：先标记，后整理，较少内存碎片问题</li>
<li>分代收集算法</li>
</ul>
<h3 id="HotSpot的算法实现"><a href="#HotSpot的算法实现" class="headerlink" title="HotSpot的算法实现"></a>HotSpot的算法实现</h3><p>枚举根节点</p>
<ul>
<li>使用可达性分析方法，时间消耗很大，并且会产生gc停顿。</li>
<li>可达性分析需要确保一致性，分析过程中不可以出现引用关系变化的情况，因此gc时会暂停所有java执行线程，即stop the world.</li>
<li>java虚拟机基本都采用准确是gc，虚拟机有办法直接得知哪些地方存放着对象引用。</li>
<li>hotspot的实现中，使用OopMap的数据结构记录引用信息。可以快速完成gc roots的枚举</li>
</ul>
<p>安全点</p>
<ul>
<li>hotspot并没有为每条指令都生成OopMap（过于占用空间），只在特定位置记录了这些信息，这些位置称为“安全点”</li>
<li>程序在运行时，只有到达安全点是才能停顿下来，执行gc</li>
</ul>
<p>安全区域</p>
<ul>
<li>sleep状态的线程，无法到达安全点。无法gc，需要安全区域来解决</li>
<li>安全区域位于一段代码之中，引用关系不会发生变化，在此区域任何地方开始gc都是安全的</li>
</ul>
<h3 id="垃圾收集器"><a href="#垃圾收集器" class="headerlink" title="垃圾收集器"></a>垃圾收集器</h3><ul>
<li>Serial收集器。单线程收集，gc是暂停其他所有线程。效率高。client模式下虚拟机的默认新生代收集器。client模式，内存一般100M左右，不会太大，延迟不到100ms，基本可接受。</li>
<li>ParNew收集器。Serial的多线程版本。使用多个线程执行gc。stop the world。其他与Serial类似。运行在server模式下首选的新生代收集器，主要是因为只有它能与VMS收集器配合工作。单cpu时，比serial要差，适合多cpu环镜</li>
<li>Parallel Scavenge。关注点在吞吐量，而不是减小stop world时间。吞吐量=运行用户线程时间/(用户线程+gc线程)</li>
<li>Serial Old 收集器。Serial收集器的老年代版本。单线程，标记-整理算法。client模式下使用</li>
<li>Parallel Old收集器。parallel老年代版本，标记-整理算法。</li>
<li>CMS收集器。以获取最短回收停顿时间为目标。标记-清除算法。</li>
<li>G1收集器。gc技术最前沿成果。面向服务器。hotspot希望未来它可替换CMS。</li>
</ul>
<h3 id="CMS"><a href="#CMS" class="headerlink" title="CMS"></a>CMS</h3><p>工作步骤：</p>
<ol>
<li>初始标记。stop world，但会很快</li>
<li>并发标记。stop world,很快</li>
<li>重新标记</li>
<li>并发清除</li>
</ol>
<p>优点：并发手机，低停顿<br>缺点：对cpu资源敏感，（少于4核时，性能慢）。内存碎片（标记-清除算法）。无法处理浮动垃圾。</p>
<h3 id="其他-3"><a href="#其他-3" class="headerlink" title="其他"></a>其他</h3><p>并发和并行<br>gc并行：多个gc线程并行工作，用户线程等待<br>gc并发：用户线程，gc线程同时执行（不一定并行，可能交替执行）</p>
<p>新生代GC（Minor GC）：频繁，快速<br>老年代GC（Major GC/Full GC）：比Minor GC慢10倍左右 </p>
<h2 id="内存分配与回收策略"><a href="#内存分配与回收策略" class="headerlink" title="内存分配与回收策略"></a>内存分配与回收策略</h2><ul>
<li>对象优先在eden分配。eden无足够空间，触发一次Minor GC</li>
<li>大对象直接进入老年代</li>
<li>长期存活对象进入老年代</li>
<li>动态对象年龄判定。虚拟机不强制必须达到年龄才能晋升老年代，survivor中相同年龄所有对象大小的综合大于survivor空间一半时，也可直接进入老年代</li>
<li>空间分配担保</li>
</ul>
<h1 id="第四章-虚拟机性能监控工具与故障处理工具"><a href="#第四章-虚拟机性能监控工具与故障处理工具" class="headerlink" title="第四章 虚拟机性能监控工具与故障处理工具"></a>第四章 虚拟机性能监控工具与故障处理工具</h1><h2 id="jdk命令行工具"><a href="#jdk命令行工具" class="headerlink" title="jdk命令行工具"></a>jdk命令行工具</h2><p>大多数是jdk/lib/tools.jar类库的一层包装，主要功能在tools类库中实现。因此命令行工具的可执行文件大小都在27kb左右。</p>
<ul>
<li>jps：查看本机所有java虚拟机进程</li>
<li>jstat：收集虚拟机各方面的运行数据</li>
<li>jinfo：显示虚拟机配置信息</li>
<li>jmap：生成虚拟机内存转储快照</li>
<li>jhat：分析jmap生成的dump文件，会启一个webserver，分析内存</li>
<li>jstack：虚拟机线程快照</li>
<li>javap：反汇编</li>
</ul>
<p>jps -v : 输出虚拟机启动时的jvm参数<br>jstat -gc：监视java堆状况<br>jstat -gcutil：监视java堆，输出是占用百分比</p>
<h2 id="jdk可视化工具"><a href="#jdk可视化工具" class="headerlink" title="jdk可视化工具"></a>jdk可视化工具</h2><ul>
<li>jconsole</li>
<li>VisualVM：功能强大。运行监视和故障处理。</li>
</ul>
<h2 id="jdk版本选择"><a href="#jdk版本选择" class="headerlink" title="jdk版本选择"></a>jdk版本选择</h2><p>版本升级也有不少性能倒退的案例，受程序，第三方包兼容性以及中间件的限制，在企业中升级jdk版本需要慎重考虑。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;为了达到给所有硬件提供一致的虚拟机平台的目的，jvm牺牲了一些与硬件相关的性能特性。&lt;/p&gt;
&lt;h1 id=&quot;第一章-走进java&quot;&gt;&lt;a href=&quot;#第一章-走进java&quot; class=&quot;headerlink&quot; title=&quot;第一章 走进java&quot;&gt;&lt;/a&gt;第一章 走进java&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;2006年，Sun公式宣布最终会将java开源，并建立了OpenJDK组织源码进行独立管理。&lt;br&gt;除了极少数产权代码（Sun本身也无权进行开源处理）外，OpenJDK几乎包括了Sun JDK的全部代码。&lt;br&gt;所以OpenJDK 7 与 Sun JDK 1.7本质史昂就是同一套代码库开发的产品&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;历史&quot;&gt;&lt;a href=&quot;#历史&quot; class=&quot;headerlink&quot; title=&quot;历史&quot;&gt;&lt;/a&gt;历史&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;1996年，sun发布jdk1.0，该jdk中所带的虚拟机就是Classic VM. 这款虚拟机采用纯解释权方式来执行java代码，若用jit编译器，就必须外挂。使用外挂jit编译器后，解释器便不再工作。&lt;br&gt;若用解释器，解释器的性能本来就比较慢。&lt;br&gt;若用编译器，编译器需要对每一行代码都进行编译，由于程序相应时间的压力，不敢应用编译耗时较高的优化技术。&lt;br&gt;由此，“java语言很慢”的形象产生&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;jdk 1.2时，在Solaris平台发布了Exact VM.&lt;br&gt;使用了准确式内存管理（虚拟机可以知道内存中某个位置的数据具体是什么类型）。&lt;br&gt;之前Class VM基于handler（句柄）的对象查找方式，每次定位对象多了一次查找开销&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;HotSpot VM：准确式内存管理，热点代码探测技术&lt;br&gt;Sun JDK，Open JDK都是使用HotSpot VM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dalvik VM，即android上使用的jvm。&lt;br&gt;严格来说，Dalvik VM不是一个java虚拟机；&lt;br&gt;它没有遵循java虚拟机规范，不能直接执行java的class文件;&lt;br&gt;使用的是寄存器架构而不是jvm中常用的栈架构&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Microsoft JVM&lt;br&gt;微软曾是java技术铁杆支持者，与sun争夺java控制权，令java从跨平台技术变为绑定在windows上的技术是ms的主要目的。&lt;br&gt;sun起诉微软，微软最终败诉，赔偿sun公司2000万，承诺终止其jvm发展。&lt;br&gt;有趣的是，xp sp3完全抹去了jvm，sun又登报希望微软不要这么做&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;未来&quot;&gt;&lt;a href=&quot;#未来&quot; class=&quot;headerlink&quot; title=&quot;未来&quot;&gt;&lt;/a&gt;未来&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;模块化&lt;/li&gt;
&lt;li&gt;混合语言（java平台上多语言很合编程正成为主流）&lt;/li&gt;
&lt;li&gt;多核并行（函数式）&lt;/li&gt;
&lt;li&gt;进一步丰富语法&lt;/li&gt;
&lt;li&gt;64位虚拟机&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>思考的乐趣-读书笔记</title>
    <link href="http://yoursite.com/2017/05/04/THINKING-OF-FUN_reading_notes/"/>
    <id>http://yoursite.com/2017/05/04/THINKING-OF-FUN_reading_notes/</id>
    <published>2017-05-04T13:26:52.000Z</published>
    <updated>2017-05-04T13:26:52.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-概率论教你说谎"><a href="#1-概率论教你说谎" class="headerlink" title="1. 概率论教你说谎"></a>1. 概率论教你说谎</h1><h3 id="贝叶斯定理"><a href="#贝叶斯定理" class="headerlink" title="贝叶斯定理"></a>贝叶斯定理</h3><blockquote>
<p>直观意义：当你获知了一个新的信息后，你对原事件的看法所做的改变</p>
</blockquote>
<p><img src="http://chart.googleapis.com/chart?cht=tx&chl=P(A|B)=\frac{P(B|A)*P(A)}{P(B)}" style="border:none;"></p>
<h3 id="贝叶斯应用"><a href="#贝叶斯应用" class="headerlink" title="贝叶斯应用"></a>贝叶斯应用</h3><ul>
<li>P(A) : M同学在外通宵修炼概率</li>
<li>P(B) : M同学手中有电影票概率</li>
<li>P(A|B) : 当M同学手中的电影票被发现后，他在外通宵概率</li>
<li>P(B|A) : 若昨晚M在外通宵，他手中有电影票概率<br>若要降低P(A|B)的概率</li>
</ul>
<ol>
<li>增加P(B) : 养成保存电影票习惯</li>
<li>减小P(A) : 少在外通宵修炼</li>
<li>减小P(B|A) : 不轻易拿出电影票据</li>
</ol>
<a id="more"></a>
<h1 id="2-找东西背后的概率问题"><a href="#2-找东西背后的概率问题" class="headerlink" title="2. 找东西背后的概率问题"></a>2. 找东西背后的概率问题</h1><blockquote>
<p>8个抽屉，文件随机放入某个抽屉。1/5 概率文件未放进抽屉，文件搞丢了。求打开前n个抽屉，没找到文件的情况下，文件在剩余抽屉的概率。</p>
<p>直观感觉：n越大，文件在剩余抽屉的概率越高<br>事实：n越大，文件在剩余抽屉的概率越低</p>
</blockquote>
<h3 id="解法1"><a href="#解法1" class="headerlink" title="解法1"></a>解法1</h3><ul>
<li>8个抽屉， 1/5 概率搞丢。可假设另有两个虚拟抽屉，存放搞丢的文件。</li>
<li>找n个抽屉未找到，则文件在剩下的 （10 - n）个抽屉中</li>
<li>只能打开剩下的 （8 - n）个抽屉，因此所求概率为</li>
</ul>
<p><img src="http://chart.googleapis.com/chart?cht=tx&chl=$$\frac{8-n}{10-n}$$" style="border:none;"></p>
<p>即<br><img src="http://chart.googleapis.com/chart?cht=tx&chl=1-\frac{2}{10-n}" style="border:none;"></p>
<p>是一个递减函数：<strong>n越大，文件在剩余抽屉概率越低</strong></p>
<h3 id="解法2"><a href="#解法2" class="headerlink" title="解法2"></a>解法2</h3><ul>
<li><p>P(A) : 文件不在前n个抽屉中<br><img src="http://chart.googleapis.com/chart?cht=tx&chl=1-\frac{4}{5}*\frac{n}{8}" style="border:none;"></p>
</li>
<li><p>P(B) : 文件在剩下的抽屉中<br><img src="http://chart.googleapis.com/chart?cht=tx&chl=P(B)=\frac{4}{5}*\frac{8-n}{8}" style="border:none;"></p>
</li>
<li><p>显然P(A|B) = 1</p>
</li>
<li>根据贝叶斯定理，则<br><img src="http://chart.googleapis.com/chart?cht=tx&chl=P(B|A)=\frac{P(A|B)*P(B)}{P(A)}=\frac{8-n}{10-n}" style="border:none;"></li>
</ul>
<h1 id="3-设计调查问卷的艺术"><a href="#3-设计调查问卷的艺术" class="headerlink" title="3. 设计调查问卷的艺术"></a>3. 设计调查问卷的艺术</h1><blockquote>
<p>极度隐私问题，用户未必如实回答</p>
</blockquote>
<p>针对只有是否两个选项的隐私题目（特定题目，非全部题目）可以如下设计：</p>
<ul>
<li>问卷上准备一枚硬币（同时作为填写问卷酬谢）</li>
<li>隐私题目，请投硬币。正面朝上，填写真实情况；反面朝上，在投掷一次，正面选是，反面选否</li>
<li>若第一次为正面，用户扔可以在投掷一次，可掩人耳目</li>
<li>通过概率学，可计算出真正意愿选“是”概率，和选“否”概率</li>
</ul>
<h1 id="4-统计数据的陷阱"><a href="#4-统计数据的陷阱" class="headerlink" title="4. 统计数据的陷阱"></a>4. 统计数据的陷阱</h1><h3 id="虚假独立性数据"><a href="#虚假独立性数据" class="headerlink" title="虚假独立性数据"></a>虚假独立性数据</h3><blockquote>
<p>统计数据显示，铀矿工人寿命与其他人相当，甚至更长<br>由此，推论出 铀矿工作对身体无害<br>统计数据本身并未说谎，铀矿工人寿命不必普通人底；难就难在如何拨开数据的外表，从中挖掘出正确的信息。<br>事实上，只有身体强健的人才回去铀矿工作，他们的寿命本来就长一些，因为去铀矿工作，寿命被拉回至平均水平，造成数据“伪独立性”。<br>这种现象称为“健康工人效应”</p>
</blockquote>
<p>类似现象：打太极和不打太极寿命相同。 打太极的人多体弱</p>
<h3 id="虚假相关性数据"><a href="#虚假相关性数据" class="headerlink" title="虚假相关性数据"></a>虚假相关性数据</h3><blockquote>
<p>去救火的消防员越多，火灾损失越大<br>因为火灾大，所以救火消防员多。颠倒了因果关系</p>
</blockquote>
<p>事实上，统计上呈相关性的时间，有可能根本就没有因果关系</p>
<blockquote>
<p>冰淇淋销量增加，与鲨鱼食人时间增加，呈相关性<br>两者并无因果关系。都是因为夏天到了，导致的现象</p>
</blockquote>
<h3 id="辛普森悖论"><a href="#辛普森悖论" class="headerlink" title="辛普森悖论"></a>辛普森悖论</h3><p>各个局部表现很好，合起来反而更差</p>
<blockquote>
<p>A学校，B学校<br>A学校的各个学院 的女生比例 都高于 B学校<br>统计整个学校，B学校女生比例高于A学校<br>原因是因为，两个学校的不同学院之间，人数不同</p>
</blockquote>
<h1 id="5-为什么人们往往不愿意承担风险"><a href="#5-为什么人们往往不愿意承担风险" class="headerlink" title="5. 为什么人们往往不愿意承担风险"></a>5. 为什么人们往往不愿意承担风险</h1><blockquote>
<p>经济学：收入本身并不重要，收入带来的好处，或者幸福感，满足感</p>
</blockquote>
<p>收入的边际效用是递减的。（收入每增加一个单位，带来的额外效用减小）</p>
<p>若一个人认为收入的边际效用是递减的，则这个人是一个风险规避者。对于期望收入相同的两件事，他更愿意做封校更小的一件。<br>风险规避者甚至有可能通过减少自己的收入来避免可能的风险</p>
<h1 id="6-消费税"><a href="#6-消费税" class="headerlink" title="6.消费税"></a>6.消费税</h1><blockquote>
<p>曼昆 《经济学原理》 — 经济学领域最经典教材之一</p>
</blockquote>
<p>政府向消费者征税，买方消费欲望降低，购买力下降，导致卖方的供给也会变低，达到新的平衡。因此，消费税是由消费者和卖家共同承担的。<br>政府向卖家征税也是同样道理。</p>
<h3 id="奢侈品"><a href="#奢侈品" class="headerlink" title="奢侈品"></a>奢侈品</h3><blockquote>
<p>买奢侈品的都是富人，因此向消费者征税<br>奢侈品非生活必须品，价格升高，大量消费者退出市场<br>奢侈品供给曲线非常陡，即使价格变化很大，产量仍然变化不大，因为制造奢侈品需要很多时间，人力。生产商无法快速应对市场需求变化。<br>虽然向买方征税，税多数由生产者承担。与政府决策适得其反</p>
</blockquote>
<p>向消费者征税，与向生产者征税的效果完全一样。（最终，生产者承担税费，与消费者承担税费都相同）（供需曲线都是直线时，可以从数学上证明此结论）</p>
<h1 id="7-价格里的阴谋"><a href="#7-价格里的阴谋" class="headerlink" title="7. 价格里的阴谋"></a>7. 价格里的阴谋</h1><h3 id="价格歧视"><a href="#价格歧视" class="headerlink" title="价格歧视"></a>价格歧视</h3><p>为不同消费者制定不同价格的策略</p>
<p>对于一个恶汉来说，第一个烧饼的价值显然比第七个烧饼的价值更高。<br>同样，工资提高事，针对等额的提升度，工资低的所带来的价值更高<br>同等金额，对于穷人和富人的价值不同。</p>
<h3 id="二级价格歧视"><a href="#二级价格歧视" class="headerlink" title="二级价格歧视"></a>二级价格歧视</h3><p>让高端消费者自动选择高价位商品的定价策略</p>
<p>想办法拉大高端套餐和低端套餐的差距，可以向高端用户收取更高的费用。<br>一个有趣的现象：让低端产品更低端，反而会增大生产商的收益。</p>
<p>二级价格歧视理论 产生的奇怪现象：<br>快递：次日达，隔日达，普通到达。同一天寄出的商品，也都是同一天到达，隔日达的商品会在仓库中存一天（为了区分不同档次的产品，商家有意设置低端消费品）<br>IBM曾研发让打印机慢速打印的设备<br>飞机，头等舱，经济舱都是同样的原理</p>
<h3 id="三级价格歧视"><a href="#三级价格歧视" class="headerlink" title="三级价格歧视"></a>三级价格歧视</h3><p>直接给商品提供不同的价格。</p>
<p>明显三级价格歧视：</p>
<ul>
<li>学生证半价；</li>
<li>同一商品，不同省份价格不同；</li>
<li>高速公路对不同车型收费不同等。</li>
</ul>
<p>隐蔽的三级价格歧视：</p>
<ul>
<li>狡诈的电商网站，点击“从高到低排序”，会给出更高的价格；</li>
<li>优惠券；30%的人会保留使用，70%弄丢或过期。区分了不同用户，相当于为对价格比较敏感的低端用户提供了优惠</li>
<li>邮寄回扣，吧收据，反馈卡，回扣申请表等寄回厂家。国外电子产品较常见</li>
</ul>
<p>游乐园，火车票，电影票不大能分出消费者等级。因此二级价格歧视无效，多使用三级价格歧视</p>
<h3 id="两部分定价"><a href="#两部分定价" class="headerlink" title="两部分定价"></a>两部分定价</h3><p>入场费 + 消费的费用<br>游乐场，酒吧常用此方式。会员入会费，信用卡年费，手机月租费等</p>
<h3 id="捆绑销售"><a href="#捆绑销售" class="headerlink" title="捆绑销售"></a>捆绑销售</h3><blockquote>
<p>不一定总是适用。<br>适用场景；不同买家对捆绑的商品具有不同的偏好</p>
</blockquote>
<p>word，excel，ppt捆绑销售</p>
<p>维基百科上“pricing strategies”, 共有20多种定价策略<br>link : <a href="https://en.wikipedia.org/wiki/Pricing_strategies" target="_blank" rel="external">https://en.wikipedia.org/wiki/Pricing_strategies</a><br>终极目的都是一致的：尽可能从消费者身上赚取更多利润</p>
<h1 id="8-公用品的悲剧"><a href="#8-公用品的悲剧" class="headerlink" title="8.公用品的悲剧"></a>8.公用品的悲剧</h1><p>类似于囚徒困境的原理</p>
<p>对单个用户来讲，做比不做带来更大收益，都选择做</p>
<ul>
<li>挤公交：对等公交的人，能挤上比挤不上收益更大</li>
<li>企业污染环境：排放污水降低开销，污染环境的代价由全体承担，均摊到自己很少，所以要污染环境</li>
<li>车祸越离奇，堵车越严重，即使车祸没挡住路。司机会观看车祸，甚至拍照等，对车祸现场的司机来说，观看车祸的收益，比自己登上一分钟收益更大，导致后面的车辆都要多等一分钟</li>
</ul>
<h1 id="10-公平分割"><a href="#10-公平分割" class="headerlink" title="10.公平分割"></a>10.公平分割</h1><h3 id="均衡分割"><a href="#均衡分割" class="headerlink" title="均衡分割"></a>均衡分割</h3><p>两个人分：你来分，我来选。（分的人，收益是一半，选的人收益可能超过一半）</p>
<p>多个人分，假设4个人。分割过程：</p>
<ul>
<li>选两人，你来分，我来选（共两份）</li>
<li>让这两个人把各自手中的蛋糕分成3份（共2*3=6份），让第3个人从2人中各选一份</li>
<li>这3个人把各自手中蛋糕分成4份（共3*4份），让第4个人从3人手中各选1份</li>
<li>分割结束，每个人得到自己手中的蛋糕份额</li>
</ul>
<p>最后削减人算法：</p>
<ul>
<li>第1个人，从蛋糕中切出他所认为的1/n, 交给第2个人。</li>
<li>第2个人也可从中切出一小块，交给第3个人，</li>
<li>依次类推，每个人拿到蛋糕后都有一次修剪机会，然后移交给下一个人，最后一个修剪蛋糕的人将获得这块蛋糕</li>
<li>余下的n-1个人从头开始重复这个过程</li>
</ul>
<h3 id="免嫉妒分割"><a href="#免嫉妒分割" class="headerlink" title="免嫉妒分割"></a>免嫉妒分割</h3><p>免嫉妒分割比均衡分割更强的要求。免嫉妒分割一定也满足均衡分割。<br>蛋糕上有说过，巧克力，奶油等，每个人认为的价值不一样，有人爱吃水果，有人爱吃巧克力。构造出免嫉妒的分割方案非常困难。</p>
<p>3人免嫉妒分割方案：</p>
<ul>
<li>A,B,C 3人，A把蛋糕3等分（按价值等分，当然是按照A的价值标准分割）</li>
<li>B若认为3块中，较大的两块一样大，则按照C,B,A的顺序选蛋糕，问题解决；B若认为较大的两块不一样大，则B把较大一块切下一部分，使其跟第二大的蛋糕一样大，按照C,B,A顺序选取，但有个限制，若C没选被修剪的蛋糕，B必须选它。</li>
<li>此时，每人都分得一份蛋糕。被修剪蛋糕在B或C手中。C第一个选，不会妒忌别人；B选取了两个较大块中的一个，也不会妒忌别人，A是分蛋糕的，也不会妒忌别人。</li>
<li>还剩一小块，进入分割流程第二轮</li>
<li>被修剪蛋糕在B或C手中。X表示拿到修剪蛋糕的人，B,C中未拿到修剪蛋糕的用Y表示，A还用A表示。</li>
<li>Y切分，X，A，Y的顺序取。第二轮结束。</li>
<li>X第一个取，不会妒忌别人；A在第一轮已经拿到了足够的价值，即使不参与第二轮，也不会妒忌别人；Y是分蛋糕的，也不会妒忌别人。</li>
<li>分割结束，所有人都不会妒忌别人</li>
</ul>
<p>以上方法，只适合3个人的情况，对于人数更多的情况，数学家还没有找到一个比较可行的方案</p>
<h1 id="数学之美"><a href="#数学之美" class="headerlink" title="数学之美"></a>数学之美</h1><h3 id="幻方"><a href="#幻方" class="headerlink" title="幻方"></a>幻方</h3><table>
<thead>
<tr>
<th>8</th>
<th>1</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>5</td>
<td>7</td>
</tr>
<tr>
<td>4</td>
<td>9</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>$$816^2 + 357^2 + 492^2 = 618^2 + 753^2 + 294^2$$<br>所有幻方均满足上述性质</p>
<h3 id="欧拉恒等式"><a href="#欧拉恒等式" class="headerlink" title="欧拉恒等式"></a>欧拉恒等式</h3><p>$$e^{\pi i} + 1 = 0$$</p>
<p>三角形一共发现有5000多个心，目前数目还在不断增加<br>任意给定两个面积相等的多边形，它们之间都可以通过剪拼得到<br>俄罗斯方块可以永远玩下去吗？ —- <strong>不能</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-概率论教你说谎&quot;&gt;&lt;a href=&quot;#1-概率论教你说谎&quot; class=&quot;headerlink&quot; title=&quot;1. 概率论教你说谎&quot;&gt;&lt;/a&gt;1. 概率论教你说谎&lt;/h1&gt;&lt;h3 id=&quot;贝叶斯定理&quot;&gt;&lt;a href=&quot;#贝叶斯定理&quot; class=&quot;headerlink&quot; title=&quot;贝叶斯定理&quot;&gt;&lt;/a&gt;贝叶斯定理&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;直观意义：当你获知了一个新的信息后，你对原事件的看法所做的改变&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://chart.googleapis.com/chart?cht=tx&amp;chl=P(A|B)=\frac{P(B|A)*P(A)}{P(B)}&quot; style=&quot;border:none;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;贝叶斯应用&quot;&gt;&lt;a href=&quot;#贝叶斯应用&quot; class=&quot;headerlink&quot; title=&quot;贝叶斯应用&quot;&gt;&lt;/a&gt;贝叶斯应用&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;P(A) : M同学在外通宵修炼概率&lt;/li&gt;
&lt;li&gt;P(B) : M同学手中有电影票概率&lt;/li&gt;
&lt;li&gt;P(A|B) : 当M同学手中的电影票被发现后，他在外通宵概率&lt;/li&gt;
&lt;li&gt;P(B|A) : 若昨晚M在外通宵，他手中有电影票概率&lt;br&gt;若要降低P(A|B)的概率&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;增加P(B) : 养成保存电影票习惯&lt;/li&gt;
&lt;li&gt;减小P(A) : 少在外通宵修炼&lt;/li&gt;
&lt;li&gt;减小P(B|A) : 不轻易拿出电影票据&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>HashMap工作原理</title>
    <link href="http://yoursite.com/2017/05/04/HashMap/"/>
    <id>http://yoursite.com/2017/05/04/HashMap/</id>
    <published>2017-05-04T13:26:23.000Z</published>
    <updated>2017-05-04T13:26:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近参与公司的实习生招聘工作，面试了几位实习生，我有一道每次面试都必问的题目【HasmMap的工作原理】，但很遗憾，至今还没遇到令我完全满意的回答。今天这篇文章就来回答下HashMap相关的面试题。</p>
<h2 id="1-什么是HashMap？"><a href="#1-什么是HashMap？" class="headerlink" title="1. 什么是HashMap？"></a>1. 什么是HashMap？</h2><p>java.util.HashMap是Java语言标准库中的一个容器类，主要用来存储键值对。是数据结构中哈希表在Java语言的一个实现。</p>
<p>哈希表是数据结构中的一个概念，可以存储n个元素，取元素的时间复杂度为O(1).</p>
<p>一般情况下，从n个元素中查找一个元素，时间复杂度为O(n). 为何哈希表能有O(1)的时间复杂度？</p>
<p>因为元素在存储时已经大致确定了位置，查找的时候可以定位到对应的位置，因此时间复杂度为O(1).</p>
<a id="more"></a>
<h2 id="2-HashMap中的数据结构"><a href="#2-HashMap中的数据结构" class="headerlink" title="2. HashMap中的数据结构"></a>2. HashMap中的数据结构</h2><p>HashMap使用数组+链表的方式实现。</p>
<p>数组的作用主要是定位元素位置。</p>
<p>链表的作用是解决哈希冲突问题。遇到hash值相等的key，就把相应键值使用链表的方式全部保存下来。</p>
<h2 id="3-put操作"><a href="#3-put操作" class="headerlink" title="3. put操作"></a>3. put操作</h2><p>put方法定义</p>
<pre><code>public V put(K key, V value)
</code></pre><p>put操作执行过程：</p>
<p>a. 计算key的hashcode</p>
<p>b. 根据hashcode计算出需要将该键值对存储的位置-即桶的位置</p>
<p>c. 找到桶的位置后，如果桶未被占用，则存入该键值对；若桶中已有数据，则需要遍历桶中数据，并且比较key的equals方法。遇到key相同的，则用新的value，把旧值替换掉（put操作会将旧值覆盖掉）。若没找到，则将该键值对存储在链表的末尾。</p>
<h2 id="4-get操作"><a href="#4-get操作" class="headerlink" title="4. get操作"></a>4. get操作</h2><p>get方法定义</p>
<pre><code>public V get(Object key)
</code></pre><p>get操作执行过程：</p>
<p>a. 计算key的hashcode</p>
<p>b. 根据hashcode，定位该元素所在桶的位置</p>
<p>c. 若桶为空，则返回null；若桶不空，则遍历桶中数据，比较key的equals方法，若遇到相同的元素，则返回对于的value中；没遇到，则返回null</p>
<h2 id="5-什么样的类型可以作为HashMap的key？"><a href="#5-什么样的类型可以作为HashMap的key？" class="headerlink" title="5. 什么样的类型可以作为HashMap的key？"></a>5. 什么样的类型可以作为HashMap的key？</h2><p>a. 重写hashCode() 和 equals() 方法</p>
<p>HashMap在get/put数据时，需要调用hashCode() 和 equals() 方法，因此只有重写了hashCode() 和 equals() 方法的类，才可以作为HashMap的key。</p>
<p>（hashCode相同，对象不一定相等；对象相等，则hashCode必然相同）</p>
<p>b. 不可变性</p>
<p>不可变性也是必要的，若元素可变，则相应hashCode也会发生变化，调用get()方法时，可能找不到相应的value，甚至可能找到错误的value。</p>
<h2 id="6-如何计算数组下标"><a href="#6-如何计算数组下标" class="headerlink" title="6. 如何计算数组下标"></a>6. 如何计算数组下标</h2><p>在JDK1.8之前的版本中，是通过key的hashCode()进行hashing，然后将( n-1 &amp; hash)来确定数组下标，即桶的位置。</p>
<p>在JDK1.8版本，将hash值的高16位与低16位进行异或</p>
<p>JDK 1.8：</p>
<pre><code>(h = key.hashCode()) ^ (h &gt;&gt;&gt;16)
</code></pre><p>这样做的目的主要是为了减少哈希冲突的可能性。特别是数据量较小时，旧的计算方式哈希冲突的可能比较大。</p>
<h2 id="7-HashMap的两个重要概念"><a href="#7-HashMap的两个重要概念" class="headerlink" title="7. HashMap的两个重要概念"></a>7. HashMap的两个重要概念</h2><p>容量(Capacity)，即HashMap中数组的大小，也是桶的个数</p>
<p>负载因子(load factor)，也成装载因子 = hashmap中实际保存键值对个数 / hashmap中数组的大小</p>
<p>随着HashMap中元素个数的增多，负载因子增大。如果不做额外的处理，则桶中的链表会越来越长，因此HashMap就无法保证取元素时O(1)的时间复杂度。因此，必须要调整HashMap中数组的大小</p>
<p>HashMap中定义的默认负载因子大小为0.75，当负载因子大于该值时，将对数组进行扩容</p>
<h2 id="8-HashMap其他面试题"><a href="#8-HashMap其他面试题" class="headerlink" title="8. HashMap其他面试题"></a>8. HashMap其他面试题</h2><p>HashMap与HashTable区别：Hashtable中加入了锁，线程安全；HashMap线程不安全。也正因为Hashtable中加入了锁，导致性能上要差于HashMap。</p>
<p>ConcurrentHashMap：HashMap、Hashtable在性能和安全性上的一个折中方案。实现原理是ConcurrentHashMap中将Map划分为多个子Map，子Map分别加锁。对一个子Map加锁以后，不影响对其他子Map的访问。</p>
<h2 id="9-为什么要面试这道题目"><a href="#9-为什么要面试这道题目" class="headerlink" title="9. 为什么要面试这道题目"></a>9. 为什么要面试这道题目</h2><p>a. 考察求职者技术水平.</p>
<p>我一把把这道题目作为第一道面试题来考察求职者。根据回答情况，能大致推测到求职者的水平，方便后续的面试。</p>
<p>零级水平：完全不知道。（当然，这种可能性很少。毕竟HashMap是非常常用的一个工具类）</p>
<p>一级水平：可以回答HashMap的时间复杂度，容量，装载因子等概念</p>
<p>二级水平：回答出get/put操作的完整过程。（多数求职者都没能完整的回答这个问题。能完全回答出这个问题，说明求职者对哈希的思想有完整的理解，而且很可能阅读过HashMap的源码 - 要想写好代码，首先要阅读优秀源代码的习惯）</p>
<p>三级水平：回答出hashCode，equals作用，不可变性，线程安全的Map（基本上满足公司实习生的要求，可以发offer了）</p>
<p>b. 考察求职者表达能力</p>
<p>能够把一件复杂的事情讲的清晰易懂，是件了不起的能力。（笔者在这方面能力有所欠佳）</p>
<hr>
<p>注：</p>
<p>HashMap中其实允许null作为key，因为在get/put操作时都会对null值做特殊的处理。</p>
<p>本文主要是从哈希表的角度来讲述HashMap，因此这些细节问题并未涉及。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近参与公司的实习生招聘工作，面试了几位实习生，我有一道每次面试都必问的题目【HasmMap的工作原理】，但很遗憾，至今还没遇到令我完全满意的回答。今天这篇文章就来回答下HashMap相关的面试题。&lt;/p&gt;
&lt;h2 id=&quot;1-什么是HashMap？&quot;&gt;&lt;a href=&quot;#1-什么是HashMap？&quot; class=&quot;headerlink&quot; title=&quot;1. 什么是HashMap？&quot;&gt;&lt;/a&gt;1. 什么是HashMap？&lt;/h2&gt;&lt;p&gt;java.util.HashMap是Java语言标准库中的一个容器类，主要用来存储键值对。是数据结构中哈希表在Java语言的一个实现。&lt;/p&gt;
&lt;p&gt;哈希表是数据结构中的一个概念，可以存储n个元素，取元素的时间复杂度为O(1).&lt;/p&gt;
&lt;p&gt;一般情况下，从n个元素中查找一个元素，时间复杂度为O(n). 为何哈希表能有O(1)的时间复杂度？&lt;/p&gt;
&lt;p&gt;因为元素在存储时已经大致确定了位置，查找的时候可以定位到对应的位置，因此时间复杂度为O(1).&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
